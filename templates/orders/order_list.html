<!-- templates/orders/order_list.html -->

{% extends 'base.html' %}

{% load static %}
{% load i18n %}

{% block CSS %}
    <!-- DataTables -->
    <link rel="stylesheet" href="{% static 'bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css' %}">
    <style>
        @media only screen and (max-width: 900px) {
            .one{
                display: none;
            }
        }
    </style>
{% endblock CSS %}

{% block pageheader %}
    {% trans "Заявки" %}
{% endblock pageheader %}

{% block breadcrumb %}
    <li class="active">{% trans "Заявки" %}</li>
{% endblock breadcrumb %}

{% block content %}
    <div class="box box-success">
        <div class="box-header">
            <i class="fa fa-file-text-o"></i>
            <h3 class="box-title">{% trans "Перелік оформлених заявок" %}</h3>
            <div class="box-tools pull-right" data-toggle="tooltip" title="">
                <div class="btn-group">
                    <a class="btn btn-warning"
                        href="{% url 'order_list' %}"
                        title={% trans 'Оновити' %}>
                        <i class="fa fa-retweet"></i>
                    </a>
                    <a class="btn btn-success"
                        href="{% url 'order_create' %}"
                        title={% trans 'Створити' %}>
                        <i class="fa fa-plus"></i>
                    </a>
                </div>
            </div>
        </div>
        <div class="box-body">
            <table id="example2" class="table table-bordered table-hover table-striped">
                <thead>
                    <tr>
                        <th>{% trans "№" %}</th>
                        <th>{% trans "Дата" %}</th>
                        <th class="one">{% trans "Послуга" %}</th>
                        <th class="one">{% trans "Бенефіціар" %}</th>
                        <th>{% trans "Принципал" %}</th>
                        <th class="one">{% trans "Процедура" %}</th>
                        <th class="one">{% trans "Відправлення" %}</th>
                        <th class="one">{% trans "Призначення" %}</th>
                        <th class="one">{% trans "Транспорт" %}</th>
                        <th class="one">{% trans "Строк" %}</th>
                        <th></th>
                    </tr>
                </thead>                
                <tbody>
                    {% for order in object_list %}
                        <tr>                           
                            <td>{{ order.order_number }}</td>
                            <td>{{ order.order_created|date:'d.m.Y' }}</td>
                            <td class="one">{{ order.warranty_type }}</td>
                            <td class="one">{{ order.customs.office_code }}</td>
                            <td>{{ order.principal }}</td>
                            <td class="one">{{ order.procedure.code }}</td>
                            <td class="one">{{ order.customs_departure.office_code }}</td>
                            <td class="one">{{ order.customs_destination.office_code }}</td>
                            <td class="one">{{ order.vehicle.vehicle_code }}</td>
                            <td class="one">{{ order.expired_date|date:'d.m.Y' }}</td>
                            <td>
                                <div class="btn-group">
                                    <a class="btn"
                                        href="{% url 'order_detail' pk=order.pk %}"
                                        title={% trans 'Переглянути' %}>
                                        <span style="color: blue;">
                                            <i class="fa fa-eye"></i>
                                        </span>
                                    </a>
                                    <a class="btn"
                                        href="{% url 'order_update' pk=order.pk %}"
                                        title={% trans 'Редагувати' %}>
                                        <span style="color: orange;">
                                            <i class="fa fa-edit"></i>
                                        </span>
                                    </a>
                                    <a class="btn"
                                        href=""
                                        title={% trans 'Копіювати' %}>
                                        <span style="color: green;">
                                            <i class="fa fa-copy"></i>
                                        </span>
                                    </a>
                                    <a class="btn"
                                        href=""
                                        title={% trans 'Видалити' %}>
                                        <span style="color: red;">
                                            <i class="fa fa-trash"></i>
                                        </span>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block JS %}
    <!-- DataTable -->
    <script src="{% static 'bower_components/datatables.net/js/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js' %}"></script>
    <script>
        $(document).ready(function () {
            $('#example2').DataTable({
                'language': {
                    "lengthMenu": "Відобразити _MENU_ записів на сторінку",
                    "zeroRecords": "Нічого не знайдено - вибачте",
                    "info": "Сторінка _PAGE_ з _PAGES_",
                    "infoEmpty": "Записи відсутні",
                    "infoFiltered": "(відфільтровано з _MAX_ записів)",
                    "search": "Пошук:",
                    "paginate": {
                        "first":      "Перша",
                        "last":       "Остання",
                        "next":       "Наступна",
                        "previous":   "Попередня"
                    },
                },
                'paging'      : true,
                'lengthChange': true,
                'searching'   : true,
                'ordering'    : true,
                'info'        : true,
                'autoWidth'   : false,
                
            })
        })
    </script>
{% endblock JS %}


